<!DOCTYPE html>
<html lang="en" prefix="og: https://ogp.me/ns#">
<head>
    <meta charset="UTF-8" />
    <meta name="description"
        content="Polygonal Dragons ahead, you've been warned" />
    <meta name="keywords"
    content="ecsp, escp, ecspdev, escpdev, developer, game developer, ecsp dev, escp dev, dev, game dev, game developer, game artist, spain, espaÃ±a, artist, spain artist, spain game dev, game dev spain" />
    <meta http-equiv="author"
    content="ECSP" />
    
    <meta property="og:title" content="ecsp.dev">
    <meta property="og:image" content="/assets/background3.png">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ecsp.dev/">
    <meta property="og:description" content="Polygonal Dragons ahead, you've been warned">
    
    <meta name="theme-color" content="#c93061">
    
    <link rel="stylesheet" href="index.css">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <title>ecsp.dev</title>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-elem" id="box-aboutme">
            <img src="assets/home/ecspdragon.gif">
            <p>About me</p>
        </div>
        <div class="sidebar-elem" id="box-art">
            <img src="assets/home/art.gif">
            <p>Portfolio</p>
        </div>
        <div class="sidebar-elem" id="box-studio">
            <img src="assets/home/studioecsp.gif">
            <p>Studio ECSP</p>
        </div>
        <div class="sidebar-elem">
            <img src="assets/home/blog.gif">
            <p>Blog</p>
        </div>
        <div class="sidebar-elem" id="box-kofi">
            <img src="assets/home/kofi.gif">
            <p>Support me</p>
        </div>
    </div>
    <iframe src=/home.html></iframe>
</body>
</html> 
<script>
    let on_menu = false;
    
    //Button functionality
    const aboutme = document.getElementById("box-aboutme");
    aboutme.addEventListener("click",function(){
        openiFrame(0);
    });
    const art = document.getElementById("box-art");
    art.addEventListener("click",function(){
        openiFrame(1);
    });
    /*
    const studio = document.getElementById("box-studio");
    studio.addEventListener("click",function(){
        openiFrame(2);
    });
    */

    const kofi = document.getElementById("box-kofi");
    kofi.addEventListener("click",function(){
        window.open("https://ko-fi.com/ecspdev");
    });
    
    //Functions for opening and closing iframes
    function openiFrame(window_type) {
        if (on_menu) exit;
        on_menu = true;
        
        //Add obscurer
        let obscurer = document.createElement("div");
        obscurer.className = "window-obscurer";
        obscurer.id = "obscurer";
        document.body.appendChild(obscurer);
        document.getElementById("obscurer").onclick = function(){
            closeiFrame();
        }

        //Add background
        let background = document.createElement("div");
        background.className = "window-background";
        background.id = "window-background";
        document.getElementById("obscurer").appendChild(background);
        
        //Add back button
        let back = document.createElement("button");
        back.id = "window-back";
        document.getElementById("obscurer").appendChild(back);
        document.getElementById("window-back").onclick = function(){
            closeiFrame();
        }
        
        //Add iframe
        switch (window_type){
            case 0:{ //About me
                //Add iframe
                let iframe = document.createElement("iframe");
                iframe.className = "window-iframe";
                iframe.src = "about.html";
                document.getElementById("window-background").appendChild(iframe);
                break;
            }
            case 1:{ //My art
                let iframe = document.createElement("iframe");
                iframe.className = "window-iframe";
                iframe.src = "art.html";
                document.getElementById("window-background").appendChild(iframe);
                break;
            }
            case 2:{ //Studio
                break;
            }
        }
    }
    
    function closeiFrame(){
        if (!on_menu) exit;
        on_menu = false;
        
        //Remove window elements
        document.getElementById("obscurer").remove();
        document.getElementById("background").remove();
        document.getElementById("iframe").remove();
        document.getElementById("back").remove();
    }
</script>